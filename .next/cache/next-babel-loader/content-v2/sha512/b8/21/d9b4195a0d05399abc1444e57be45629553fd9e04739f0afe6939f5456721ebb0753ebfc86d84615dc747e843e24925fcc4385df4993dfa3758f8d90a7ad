{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ailaodev/Desktop/Projects/swizce/src/components/Layout.tsx\";\nimport React, { useContext, useEffect } from 'react';\nimport Head from 'next/head';\nimport { useRouter } from 'next/router';\nimport { AuthContext } from '../context/AuthContext'; // import { useQuery } from '@apollo/client';\n// import { QUERY_SONGS } from '../graphql/Song'\n// import { Song } from '../types'\n\nimport Backdrop from './Modal/Backdrop';\nimport Signup from './Signup';\nimport Signin from './Signin';\nimport RequestResetPassword from './RequestResetPassword';\nimport ResetPassword from './ResetPassword';\nimport Navigation from './Partials/Navigation';\nimport Create from './Scream/Create';\nimport AddService from './Service/Add'; // import { isAdmin } from '../helpers/authHelper';\n// import AdminNavbar from './Partials/AdminNavbar';\n\nconst Layout = ({\n  children\n}) => {\n  const {\n    authAction,\n    handleAuthAction,\n    loggedInUser\n  } = useContext(AuthContext);\n  console.log(\"User Logged in Now!:\", loggedInUser);\n  const {\n    asPath,\n    replace,\n    pathname,\n    query\n  } = useRouter();\n  useEffect(() => {\n    if (asPath === '/dashboard#_=_' || asPath === 'dashboard#') {\n      replace('/dashboard');\n    }\n\n    if (asPath === '#_=_' || asPath === '/#') {\n      replace('/');\n    }\n  }, [asPath, replace]);\n  useEffect(() => {\n    if (query !== null && query !== void 0 && query.resetToken) handleAuthAction('reset');\n  }, [query]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: pathname === '/' ? 'HOME' : pathname.split('/')[1].toUpperCase()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        charSet: \"utf-8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"viewport\",\n        content: \"initial-scale=1.0, width=device-width\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n        href: \"https://fonts.googleapis.com/css2?family=Noto+Sans&family=Roboto&display=swap\",\n        rel: \"stylesheet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: children\n    }, void 0, false), authAction !== 'close' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [authAction === 'signup' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Backdrop, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Signup, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true), authAction === 'signin' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Backdrop, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Signin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true), authAction === 'request' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Backdrop, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(RequestResetPassword, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true), authAction === 'reset' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Backdrop, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(ResetPassword, {\n          token: query === null || query === void 0 ? void 0 : query.resetToken\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true), authAction === 'create' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Backdrop, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Create, {\n          userId: loggedInUser.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true), authAction === 'create-service' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Backdrop, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(AddService, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n\nexport default Layout;","map":{"version":3,"sources":["/Users/ailaodev/Desktop/Projects/swizce/src/components/Layout.tsx"],"names":["React","useContext","useEffect","Head","useRouter","AuthContext","Backdrop","Signup","Signin","RequestResetPassword","ResetPassword","Navigation","Create","AddService","Layout","children","authAction","handleAuthAction","loggedInUser","console","log","asPath","replace","pathname","query","resetToken","split","toUpperCase","id"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect} from 'react';\nimport Head from 'next/head';\nimport { useRouter } from 'next/router';\nimport { AuthContext } from '../context/AuthContext';\n// import { useQuery } from '@apollo/client';\n// import { QUERY_SONGS } from '../graphql/Song'\n// import { Song } from '../types'\n\nimport Backdrop from './Modal/Backdrop';\nimport Signup from './Signup';\nimport Signin from './Signin';\nimport RequestResetPassword from './RequestResetPassword';\nimport ResetPassword from './ResetPassword';\nimport Navigation from './Partials/Navigation';\nimport Create from './Scream/Create';\nimport AddService from './Service/Add';\n// import { isAdmin } from '../helpers/authHelper';\n// import AdminNavbar from './Partials/AdminNavbar';\n\ninterface Props {}\n\nconst Layout: React.FC<Props> = ({ children }) => {\n  const { authAction, handleAuthAction, loggedInUser } = useContext(AuthContext);\n\n  console.log(\"User Logged in Now!:\", loggedInUser);\n\n  const { asPath, replace, pathname, query  } = useRouter();\n\n  useEffect(() => {\n    if(asPath === '/dashboard#_=_' || asPath === 'dashboard#'){\n     replace('/dashboard') \n    }\n\n    if(asPath === '#_=_' || asPath === '/#'){\n      replace('/')\n    }\n  }, [asPath, replace]);\n\n\n\n  useEffect(() => {\n    if(query?.resetToken) handleAuthAction('reset')\n  }, [query]);\n\n\n  return (\n    <>\n      <Head>\n          <title>\n            {\n              pathname === '/' ? 'HOME': pathname.split('/')[1].toUpperCase()\n            }\n          </title>\n          <meta charSet='utf-8' />\n          <meta name='viewport' content='initial-scale=1.0, width=device-width'/>\n          <link href='https://fonts.googleapis.com/css2?family=Noto+Sans&family=Roboto&display=swap'rel='stylesheet'/>\n      </Head>\n      \n      <Navigation />\n        <>\n        {children}\n        </>\n        {\n          authAction !== 'close' && (\n            <>\n              {\n                authAction === 'signup' && (\n                  <>\n                  <Backdrop />\n                  <Signup />\n                  </>\n                )}\n                {\n                authAction === 'signin' && (\n                  <>\n                  <Backdrop />\n                  <Signin />\n                  </>\n                )}\n                {\n                authAction === 'request' && (\n                  <>\n                  <Backdrop />\n                  <RequestResetPassword />\n                  </>\n                )}\n                {\n                authAction === 'reset' && (\n                  <>\n                  <Backdrop />\n                  <ResetPassword token={query?.resetToken as string} />\n                  </>\n                )}\n\n                {\n                authAction === 'create' && (\n                  <>\n                  <Backdrop />\n                  <Create userId={loggedInUser.id} />\n                  </>\n                )}\n\n                { \n                authAction === 'create-service' && (\n                  <>\n                  <Backdrop />\n                  <AddService  />\n                  </>\n                )}\n            </>\n          )\n        }\n      \n    </>\n  )\n}\n\n\nexport default Layout;\n"]},"metadata":{},"sourceType":"module"}
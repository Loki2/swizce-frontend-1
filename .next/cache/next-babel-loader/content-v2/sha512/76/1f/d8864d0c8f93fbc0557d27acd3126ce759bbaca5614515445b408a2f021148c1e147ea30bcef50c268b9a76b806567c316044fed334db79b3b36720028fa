{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ailaodev/Desktop/Projects/swizce/src/components/RequestResetPassword.tsx\";\nimport React, { useContext } from \"react\";\nimport { useMutation } from '@apollo/client';\nimport Loader from \"react-loader-spinner\";\nimport { useRouter } from 'next/router';\nimport { useForm } from \"react-hook-form\";\nimport Modal from \"./Modal/Modal\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { REQUEST_TO_RESET_PASSWORD } from \"../graphql/User\";\n\nconst RequestResetPassword = () => {\n  var _error$graphQLErrors$, _data$requestResetPas;\n\n  const {\n    handleAuthAction\n  } = useContext(AuthContext);\n  const {\n    register,\n    errors,\n    handleSubmit\n  } = useForm();\n  const router = useRouter();\n  const [requestResetPassword, {\n    data,\n    loading,\n    error\n  }] = useMutation(REQUEST_TO_RESET_PASSWORD);\n  const handleRequestResetPassword = handleSubmit(async ({\n    email\n  }) => {\n    await requestResetPassword({\n      variables: {\n        email\n      }\n    });\n    router.push('/');\n  });\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"request__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"__header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Enter email to get link\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleRequestResetPassword,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form__control\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Enter Email *\",\n            autoComplete: \"new-password\",\n            ref: register({\n              required: \"Email is required...!\",\n              pattern: {\n                value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                message: \"Email is incorrect format...\"\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 13\n          }, this), errors.email && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: styles.errorMessage,\n            role: \"alert\",\n            children: errors.email.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form__control\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: loading,\n            style: {\n              cursor: loading ? 'not-allowed' : 'pointer'\n            },\n            type: \"submit\",\n            children: loading ? /*#__PURE__*/_jsxDEV(Loader, {\n              type: \"Oval\",\n              color: \"white\",\n              height: 30,\n              width: 30,\n              timeout: 30000\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 28\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://res.cloudinary.com/swizce/image/upload/v1620702241/Swizce/images/login_qgoycx.png\",\n              width: \"32px\",\n              height: \"32px\",\n              color: \"white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: ((_error$graphQLErrors$ = error.graphQLErrors[0]) === null || _error$graphQLErrors$ === void 0 ? void 0 : _error$graphQLErrors$.message) || /*#__PURE__*/_jsxDEV(\"p\", {\n              style: styles.errorMessage,\n              children: \"Sorry something went wrong...!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 65\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 24\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), data && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p__forget\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: (_data$requestResetPas = data.requestResetPassword) === null || _data$requestResetPas === void 0 ? void 0 : _data$requestResetPas.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form__control\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: [\"Don't have an account?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: () => handleAuthAction(\"signup\"),\n              children: \"Get Invite!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}; //Styling page over here\n\n\nconst styles = {\n  errorMessage: {\n    margin: 0,\n    padding: 0,\n    color: \"red\",\n    fontSize: \".7rem\"\n  }\n};\nexport default RequestResetPassword;","map":{"version":3,"sources":["/Users/ailaodev/Desktop/Projects/swizce/src/components/RequestResetPassword.tsx"],"names":["React","useContext","useMutation","Loader","useRouter","useForm","Modal","AuthContext","REQUEST_TO_RESET_PASSWORD","RequestResetPassword","handleAuthAction","register","errors","handleSubmit","router","requestResetPassword","data","loading","error","handleRequestResetPassword","email","variables","push","required","pattern","value","message","styles","errorMessage","cursor","graphQLErrors","margin","padding","color","fontSize"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport { useMutation } from '@apollo/client';\nimport Loader from \"react-loader-spinner\";\nimport { useRouter } from 'next/router';\nimport { useForm } from \"react-hook-form\";\nimport Modal from \"./Modal/Modal\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nimport { REQUEST_TO_RESET_PASSWORD } from \"../graphql/User\";\n\ninterface Props {}\n\nconst RequestResetPassword: React.FC<Props> = () => {\n  const { handleAuthAction } = useContext(AuthContext);\n\n  const { register, errors, handleSubmit } = useForm<{ email: string }>();\n\n  const router = useRouter();\n\n  const [requestResetPassword, {data, loading, error}] = useMutation<{ \n        requestResetPassword: {message: string }}, \n        { email: string }>(REQUEST_TO_RESET_PASSWORD);\n\n  const handleRequestResetPassword = handleSubmit( async ({ email }) => {\n      await requestResetPassword({ variables: { email }})\n\n      router.push('/')\n\n  });\n\n  return (\n    <Modal>\n      <div className=\"request__container\">\n        <div className=\"__header\">\n          <h2>Enter email to get link</h2>\n        </div>\n\n        <form onSubmit={handleRequestResetPassword}>\n          <div className=\"form__control\">\n            <input\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"Enter Email *\"\n              autoComplete=\"new-password\"\n              ref={register({\n                required: \"Email is required...!\",\n                pattern: {\n                  value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                  message: \"Email is incorrect format...\",\n                },\n              })}\n            />\n            {errors.email && (\n              <span style={styles.errorMessage} role=\"alert\">\n                {errors.email.message}\n              </span>\n            )}\n          </div>\n\n          <div className=\"form__control\">\n            <button disabled={loading} style={{ cursor: loading ? 'not-allowed' : 'pointer'}} type=\"submit\">\n              {\n                loading ? (<Loader type='Oval' color='white' height={30} width={30} timeout={30000}/>) : (\n                  <img\n                    src=\"https://res.cloudinary.com/swizce/image/upload/v1620702241/Swizce/images/login_qgoycx.png\"\n                    width=\"32px\"\n                    height=\"32px\"\n                    color=\"white\"\n                  />\n                )\n              }\n            </button>\n            {\n              error && <div>{error.graphQLErrors[0]?.message || <p style={styles.errorMessage}>Sorry something went wrong...!</p>}</div>\n            }\n          </div>\n          {\n            data && <div className=\"p__forget\">\n              <p>{data.requestResetPassword?.message}</p>\n            </div>\n          }\n          <div className=\"form__control\">\n            <a>\n              Don't have an account?{\" \"}\n              <span onClick={() => handleAuthAction(\"signup\")}>\n                Get Invite!\n              </span>\n            </a>\n          </div>\n        </form>\n      </div>\n    </Modal>\n  );\n};\n\n//Styling page over here\nconst styles = {\n  errorMessage: {\n    margin: 0,\n    padding: 0,\n    color: \"red\",\n    fontSize: \".7rem\",\n  },\n};\n\nexport default RequestResetPassword;\n"]},"metadata":{},"sourceType":"module"}
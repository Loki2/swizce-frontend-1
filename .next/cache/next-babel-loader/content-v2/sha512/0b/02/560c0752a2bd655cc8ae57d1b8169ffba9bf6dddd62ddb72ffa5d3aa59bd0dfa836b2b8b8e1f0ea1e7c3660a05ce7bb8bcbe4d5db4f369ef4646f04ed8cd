{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/ailaodev/Desktop/Projects/swizce/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/ailaodev/Desktop/Projects/swizce/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/ailaodev/Desktop/Projects/swizce/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/ailaodev/Desktop/Projects/swizce/src/components/RequestResetPassword.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport { useMutation } from '@apollo/client';\nimport Loader from \"react-loader-spinner\";\nimport { useRouter } from 'next/router';\nimport { useForm } from \"react-hook-form\";\nimport Modal from \"./Modal/Modal\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { REQUEST_TO_RESET_PASSWORD } from \"../graphql/User\";\n\nvar RequestResetPassword = function RequestResetPassword() {\n  _s();\n\n  var _error$graphQLErrors$, _data$requestResetPas;\n\n  var _useContext = useContext(AuthContext),\n      handleAuthAction = _useContext.handleAuthAction;\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      errors = _useForm.errors,\n      handleSubmit = _useForm.handleSubmit;\n\n  var router = useRouter();\n\n  var _useMutation = useMutation(REQUEST_TO_RESET_PASSWORD),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      requestResetPassword = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      data = _useMutation2$.data,\n      loading = _useMutation2$.loading,\n      error = _useMutation2$.error;\n\n  var handleRequestResetPassword = handleSubmit( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n      var email;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              email = _ref.email;\n              _context.next = 3;\n              return requestResetPassword({\n                variables: {\n                  email: email\n                }\n              });\n\n            case 3:\n              router.push('/');\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"request__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"__header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Enter email to get link\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleRequestResetPassword,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form__control\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Enter Email *\",\n            autoComplete: \"new-password\",\n            ref: register({\n              required: \"Email is required...!\",\n              pattern: {\n                value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                message: \"Email is incorrect format...\"\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 13\n          }, _this), errors.email && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: styles.errorMessage,\n            role: \"alert\",\n            children: errors.email.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form__control\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: loading,\n            style: {\n              cursor: loading ? 'not-allowed' : 'pointer'\n            },\n            type: \"submit\",\n            children: loading ? /*#__PURE__*/_jsxDEV(Loader, {\n              type: \"Oval\",\n              color: \"white\",\n              height: 30,\n              width: 30,\n              timeout: 30000\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 28\n            }, _this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://res.cloudinary.com/swizce/image/upload/v1620702241/Swizce/images/login_qgoycx.png\",\n              width: \"32px\",\n              height: \"32px\",\n              color: \"white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 19\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, _this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: ((_error$graphQLErrors$ = error.graphQLErrors[0]) === null || _error$graphQLErrors$ === void 0 ? void 0 : _error$graphQLErrors$.message) || /*#__PURE__*/_jsxDEV(\"p\", {\n              style: styles.errorMessage,\n              children: \"Sorry something went wrong...!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 65\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 24\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, _this), data && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p__forget\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: (_data$requestResetPas = data.requestResetPassword) === null || _data$requestResetPas === void 0 ? void 0 : _data$requestResetPas.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form__control\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: [\"Don't have an account?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: function onClick() {\n                return handleAuthAction(\"signup\");\n              },\n              children: \"Get Invite!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, _this);\n}; //Styling page over here\n\n\n_s(RequestResetPassword, \"G71lqjea/9hSAyfV/G8aQRqMla8=\", false, function () {\n  return [useForm, useRouter, useMutation];\n});\n\n_c = RequestResetPassword;\nvar styles = {\n  errorMessage: {\n    margin: 0,\n    padding: 0,\n    color: \"red\",\n    fontSize: \".7rem\"\n  }\n};\nexport default RequestResetPassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"RequestResetPassword\");","map":{"version":3,"sources":["/Users/ailaodev/Desktop/Projects/swizce/src/components/RequestResetPassword.tsx"],"names":["React","useContext","useMutation","Loader","useRouter","useForm","Modal","AuthContext","REQUEST_TO_RESET_PASSWORD","RequestResetPassword","handleAuthAction","register","errors","handleSubmit","router","requestResetPassword","data","loading","error","handleRequestResetPassword","email","variables","push","required","pattern","value","message","styles","errorMessage","cursor","graphQLErrors","margin","padding","color","fontSize"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport { useMutation } from '@apollo/client';\nimport Loader from \"react-loader-spinner\";\nimport { useRouter } from 'next/router';\nimport { useForm } from \"react-hook-form\";\nimport Modal from \"./Modal/Modal\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nimport { REQUEST_TO_RESET_PASSWORD } from \"../graphql/User\";\n\ninterface Props {}\n\nconst RequestResetPassword: React.FC<Props> = () => {\n  const { handleAuthAction } = useContext(AuthContext);\n\n  const { register, errors, handleSubmit } = useForm<{ email: string }>();\n\n  const router = useRouter();\n\n  const [requestResetPassword, {data, loading, error}] = useMutation<{ \n        requestResetPassword: {message: string }}, \n        { email: string }>(REQUEST_TO_RESET_PASSWORD);\n\n  const handleRequestResetPassword = handleSubmit( async ({ email }) => {\n      await requestResetPassword({ variables: { email }})\n\n      router.push('/')\n\n  });\n\n  return (\n    <Modal>\n      <div className=\"request__container\">\n        <div className=\"__header\">\n          <h2>Enter email to get link</h2>\n        </div>\n\n        <form onSubmit={handleRequestResetPassword}>\n          <div className=\"form__control\">\n            <input\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"Enter Email *\"\n              autoComplete=\"new-password\"\n              ref={register({\n                required: \"Email is required...!\",\n                pattern: {\n                  value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                  message: \"Email is incorrect format...\",\n                },\n              })}\n            />\n            {errors.email && (\n              <span style={styles.errorMessage} role=\"alert\">\n                {errors.email.message}\n              </span>\n            )}\n          </div>\n\n          <div className=\"form__control\">\n            <button disabled={loading} style={{ cursor: loading ? 'not-allowed' : 'pointer'}} type=\"submit\">\n              {\n                loading ? (<Loader type='Oval' color='white' height={30} width={30} timeout={30000}/>) : (\n                  <img\n                    src=\"https://res.cloudinary.com/swizce/image/upload/v1620702241/Swizce/images/login_qgoycx.png\"\n                    width=\"32px\"\n                    height=\"32px\"\n                    color=\"white\"\n                  />\n                )\n              }\n            </button>\n            {\n              error && <div>{error.graphQLErrors[0]?.message || <p style={styles.errorMessage}>Sorry something went wrong...!</p>}</div>\n            }\n          </div>\n          {\n            data && <div className=\"p__forget\">\n              <p>{data.requestResetPassword?.message}</p>\n            </div>\n          }\n          <div className=\"form__control\">\n            <a>\n              Don't have an account?{\" \"}\n              <span onClick={() => handleAuthAction(\"signup\")}>\n                Get Invite!\n              </span>\n            </a>\n          </div>\n        </form>\n      </div>\n    </Modal>\n  );\n};\n\n//Styling page over here\nconst styles = {\n  errorMessage: {\n    margin: 0,\n    padding: 0,\n    color: \"red\",\n    fontSize: \".7rem\",\n  },\n};\n\nexport default RequestResetPassword;\n"]},"metadata":{},"sourceType":"module"}
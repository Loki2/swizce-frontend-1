{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/ailaodev/Desktop/Projects/swizce/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/ailaodev/Desktop/Projects/swizce/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/ailaodev/Desktop/Projects/swizce/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/ailaodev/Desktop/Projects/swizce/src/components/Partials/Navigation.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport { useMutation } from '@apollo/client';\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { isAdmin } from \"../../helpers/authHelper\";\nimport { SIGN_OUT } from '../../graphql/User';\nimport { useRouter } from 'next/router';\n\nvar Navigation = function Navigation() {\n  _s();\n\n  var _useContext = useContext(AuthContext),\n      handleAuthAction = _useContext.handleAuthAction,\n      loggedInUser = _useContext.loggedInUser,\n      setAuthUser = _useContext.setAuthUser;\n\n  var _useMutation = useMutation(SIGN_OUT),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      signout = _useMutation2[0];\n\n  var router = useRouter();\n  console.log(\"User Logged in on Navigation!:\", loggedInUser); //create call singout function\n\n  var handleSignout = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _response$data, _response$data$signou, response;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return signout();\n\n            case 3:\n              response = _context.sent;\n\n              if (response !== null && response !== void 0 && (_response$data = response.data) !== null && _response$data !== void 0 && (_response$data$signou = _response$data.signout) !== null && _response$data$signou !== void 0 && _response$data$signou.message) {\n                //Set Auth user to null\n                setAuthUser(null); //Sync Signout\n\n                window.localStorage.setItem('signout', Date.now().toString()); //push user to Signin Page\n\n                router.push('/Signin');\n              }\n\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              alert('Sorry can not proceed...!');\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function handleSignout() {\n      return _ref.apply(this, arguments);\n    };\n  }(); //  console.log(\"user logged in:\", loggedInUser)\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navigation\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://res.cloudinary.com/swizce/image/upload/v1620702365/Swizce/icons/swizce_aez2ms.png\",\n            height: \"34px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, _this), loggedInUser && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: \"https://res.cloudinary.com/swizce/image/upload/v1620702239/Swizce/images/avatar1_c05cmb.png\",\n                    className: \"btn\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 58,\n                    columnNumber: 27\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 25\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 23\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 21\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 19\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"search\",\n            name: \"search\",\n            id: \"search\",\n            placeholder: \"Found Somethings...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 19\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, _this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-action\",\n        children: loggedInUser ? /*#__PURE__*/_jsxDEV(\"a\", {\n          style: {\n            cursor: 'pointer'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            onClick: handleSignout,\n            src: \"https://res.cloudinary.com/swizce/image/upload/v1622518178/Swizce/images/log-out_aqu0w7.png\",\n            width: \"32px\",\n            height: \"32px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 21\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 19\n        }, _this) : /*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: function onClick() {\n            return handleAuthAction('signin');\n          },\n          style: {\n            cursor: 'pointer'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://res.cloudinary.com/swizce/image/upload/v1620702241/Swizce/images/login_qgoycx.png\",\n            width: \"32px\",\n            height: \"32px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 21\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 19\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }, _this), loggedInUser && isAdmin(loggedInUser) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navigation\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://res.cloudinary.com/swizce/image/upload/v1620702365/Swizce/icons/swizce_aez2ms.png\",\n              height: \"34px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 23\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-action\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/admin\",\n            children: \"Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 23\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 23\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-action\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            style: {\n              cursor: 'pointer'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: handleSignout,\n              src: \"https://res.cloudinary.com/swizce/image/upload/v1622518178/Swizce/images/log-out_aqu0w7.png\",\n              width: \"32px\",\n              height: \"32px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 27\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 23\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false);\n};\n\n_s(Navigation, \"qfb8KllycjJBX03dU6G03hRVA/Q=\", false, function () {\n  return [useMutation, useRouter];\n});\n\n_c = Navigation;\nexport default Navigation;\n\nvar _c;\n\n$RefreshReg$(_c, \"Navigation\");","map":{"version":3,"sources":["/Users/ailaodev/Desktop/Projects/swizce/src/components/Partials/Navigation.tsx"],"names":["React","useContext","useMutation","AuthContext","isAdmin","SIGN_OUT","useRouter","Navigation","handleAuthAction","loggedInUser","setAuthUser","signout","router","console","log","handleSignout","response","data","message","window","localStorage","setItem","Date","now","toString","push","alert","cursor"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport { useMutation } from '@apollo/client';\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { isAdmin } from \"../../helpers/authHelper\";\nimport { SIGN_OUT } from '../../graphql/User';\nimport { useRouter } from 'next/router';\n\ninterface NavigationProps {}\n\nconst Navigation: React.FC<NavigationProps> = () => {\n  \n  const { handleAuthAction, loggedInUser, setAuthUser } = useContext(AuthContext);\n\n  const [signout] = useMutation<{signout: {message: string}}>(SIGN_OUT);\n\n  const router = useRouter();\n\n  \n  console.log(\"User Logged in on Navigation!:\", loggedInUser);\n\n  //create call singout function\n  const handleSignout = async () => {\n    try {\n      const response = await signout();\n\n      if(response?.data?.signout?.message){\n        //Set Auth user to null\n        setAuthUser(null);\n\n        //Sync Signout\n        window.localStorage.setItem('signout', Date.now().toString())\n\n        //push user to Signin Page\n        router.push('/Signin')\n      }\n    } catch (error) {\n      alert('Sorry can not proceed...!')\n    }\n  }\n\n  //  console.log(\"user logged in:\", loggedInUser)\n  return (\n    <>\n      <div className=\"navigation\">\n        <div className=\"logo\">\n          <a href=\"/\">\n              <img src=\"https://res.cloudinary.com/swizce/image/upload/v1620702365/Swizce/icons/swizce_aez2ms.png\" height=\"34px\" />\n          </a>\n        </div>\n            {\n              loggedInUser && (\n                <>\n                <div className=\"wrapper\">\n                  <div className=\"avatar\">\n                    <ul>\n                      <li>\n                        <a href=\"#\">\n                          <img src=\"https://res.cloudinary.com/swizce/image/upload/v1620702239/Swizce/images/avatar1_c05cmb.png\" className=\"btn\" />\n                        </a>\n                      </li>                      \n                    </ul>\n                  </div>\n                </div>\n                <div className=\"search\">\n                  <input\n                    type=\"search\"\n                    name=\"search\"\n                    id=\"search\"\n                    placeholder=\"Found Somethings...\"\n                    />\n                </div>\n                </>\n              )}\n              <div className=\"nav-action\">\n                {\n                  loggedInUser ? \n                  <a style={{ cursor: 'pointer'}}>\n                    <img onClick={handleSignout}\n                          src=\"https://res.cloudinary.com/swizce/image/upload/v1622518178/Swizce/images/log-out_aqu0w7.png\"\n                          width=\"32px\"\n                          height=\"32px\"\n                    />\n                  </a>\n                  :\n                  <a onClick={() => handleAuthAction('signin')} style={{ cursor: 'pointer'}}>\n                    <img\n                          src=\"https://res.cloudinary.com/swizce/image/upload/v1620702241/Swizce/images/login_qgoycx.png\"\n                          width=\"32px\"\n                          height=\"32px\"\n                        />\n                  </a>\n                }\n                </div>\n                {\n                  loggedInUser && isAdmin(loggedInUser) && (\n                    <div className=\"navigation\">\n                      <div className=\"logo\">\n                        <a href=\"/\">\n                            <img src=\"https://res.cloudinary.com/swizce/image/upload/v1620702365/Swizce/icons/swizce_aez2ms.png\" height=\"34px\" />\n                        </a>\n                      </div>\n                      <div className=\"nav-action\">\n                      <a href=\"/admin\">Admin</a>\n                      </div>\n\n                      <div className=\"nav-action\">\n                        <a style={{ cursor: 'pointer'}}>\n                          <img\n                            onClick={handleSignout}\n                            src=\"https://res.cloudinary.com/swizce/image/upload/v1622518178/Swizce/images/log-out_aqu0w7.png\"\n                            width=\"32px\"\n                            height=\"32px\"\n                          />\n                        </a>\n                      </div>\n                    </div>\n                  )}\n            </div>\n          </>\n        );\n      };\n\nexport default Navigation;\n"]},"metadata":{},"sourceType":"module"}